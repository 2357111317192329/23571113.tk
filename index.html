<!DOCTYPE html>
<html>
<body>
<h1>Hello Bonk</h1>
  <iframe src="https://www.greenfoot.org/scenarios/28272?embed=true" width="920" height="625"></iframe>
<p>Simulating bonk.io</p>
<h2>如果喜歡，歡迎<a href="https://www.paypal.com/paypalme/2357111317192329/1">捐款</a></h2>
<h3>機器人測試</h3>
  <canvas id="myCanvas" width="200" height="50" style="border:1px solid #d3d3d3;">Your browser does not support the HTML5 canvas tag.</canvas>
  <br>
  輸入上述亂數: <input type="text" id="userInput">
  <button onclick="checkInput()">提交</button>
  <p id="result"></p>
<h4>測試顯示圖片</h4>
  <img src="Logo_of_Twiter.png" alt="圖片">
<script>
var lastupdate;
function getRandomInt(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min + 1)) + min;
}
var randomNumber = getRandomInt(0, 9999);
randomNumber = ("0000" + randomNumber).slice(-4);
window.onload = function() {
  var canvas = document.getElementById("myCanvas");
  var ctx = canvas.getContext("2d");
  ctx.font = "50px Arial";
  ctx.textAlign = "center"; 
  ctx.textBaseline = "middle";
  for (var i = 0; i < 4; i++) {
    var x = 25 + i * 50; 
    ctx.fillText(randomNumber[i], x, canvas.height / 2);
  }
  var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
  var data = imageData.data;
  console.log(data);
  var r=100
  for (var i = 0; i < data.length; i += 4) {
    data[i] = Math.max(0, data[i] + getRandomInt(-r, r));  
    data[i + 1] = Math.max(0, data[i + 1] + getRandomInt(-r, r));
    data[i + 2] = Math.max(0, data[i + 2] + getRandomInt(-r, r));
  }
  ctx.putImageData(imageData, 0, 0);
}

function checkInput() {
  var userInput = document.getElementById("userInput").value;
  if (userInput == randomNumber) {
    document.getElementById("result").innerHTML = "通過機器人測試";
  } else {
    document.getElementById("result").innerHTML = "你是機器人";
  }
}
lastupdate=document.lastModified
document.write("本網頁最後修改時間為：" + lastupdate)
</script>
</body>
</html>
